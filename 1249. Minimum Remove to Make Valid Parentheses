/*
Time: O(n). We process each character once, or twice for 'single' '('.
Memory: O(n) for the stack.

*/


class Solution {
    public String minRemoveToMakeValid(String s) {
        if(s == null || s.length() < 1){
            return s;
        }
        
        StringBuilder sb = new StringBuilder(s);

	Stack<Integer> stack = new Stack<>();

	for(int i = 0; i < sb.length();i++){
		
		if(sb.charAt(i) == '('){
			stack.push(i+1);
		}else if(sb.charAt(i) == ')'){
			if(!stack.isEmpty() && stack.peek()>0){
				stack.pop();
			}else{
				stack.push(-(i+1));
			}
		}
	}

	while(!stack.isEmpty()){
		int tmp = stack.peek();
		stack.pop();
		sb.deleteCharAt(Math.abs(tmp)-1);
	}

	return sb.toString();

	
        
        
    }
}
